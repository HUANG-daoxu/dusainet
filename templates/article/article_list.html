{% extends 'base_with_rslider.html' %}
{% load staticfiles %}
{% load filter_utils %}
{% block title %}杜赛的个人网站{% endblock %}
{% block content %}


                <button class="icobutton icobutton--heart"><i class="fa fa-heart"></i></button>

    <script>
        var el16 = $('button.icobutton'), el16span = el16.find('i');
        var opacityCurve16 = mojs.easing.path('M0,0 L25.333,0 L75.333,100 L100,0');
        var translationCurve16 = mojs.easing.path('M0,100h25.3c0,0,6.5-37.3,15-56c12.3-27,35-44,35-44v150c0,0-1.1-12.2,9.7-33.3c9.7-19,15-22.9,15-22.9');
        var squashCurve16 = mojs.easing.path('M0,100.004963 C0,100.004963 25,147.596355 25,100.004961 C25,70.7741867 32.2461944,85.3230873 58.484375,94.8579105 C68.9280825,98.6531013 83.2611815,99.9999999 100,100');

        let timeline = new mojs.Timeline();

        let tweens1 = new mojs.Burst({
            parent: el16,
            count: 6,
            radius: {0: 150},
            degree: 50,
            angle: -25,
            opacity: 0.3,
            children: {
                fill: '#FF6767',
                scale: 1,
                radius: {'rand(5,15)': 0},
                duration: 1700,
                delay: 350,
                easing: mojs.easing.bezier(0.1, 1, 0.3, 1)
            }
        });
        let tweens2 = new mojs.Burst({
            parent: el16,
            count: 3,
            degree: 0,
            radius: {80: 250},
            angle: 180,
            children: {
                top: [45, 0, 45],
                left: [-15, 0, 15],
                shape: 'line',
                radius: {60: 0},
                scale: 1,
                stroke: '#FF6767',
                opacity: 0.4,
                duration: 650,
                delay: 200,
                easing: mojs.easing.bezier(0.1, 1, 0.3, 1)
            },
        });
        // icon scale animation
        let tweens3 = new mojs.Tween({
            duration: 500,
            onUpdate: function (progress) {
                var translateProgress = translationCurve16(progress),
                    squashProgress = squashCurve16(progress),
                    scaleX = 1 - 2 * squashProgress,
                    scaleY = 1 + 2 * squashProgress;

                {#el16span.style.WebkitTransform = #}
                el16span.css('transform', 'translate3d(0,' + -180 * translateProgress + 'px,0) scale3d(' + scaleX + ',' + scaleY + ',1)');
                {#el16span.style.transform = 'translate3d(0,' + -180 * translateProgress + 'px,0) scale3d(' + scaleX + ',' + scaleY + ',1)';#}

                var opacityProgress = opacityCurve16(progress);
                el16span.css('opacity', opacityProgress);

                el16.css('color', progress >= 0.75 ? '#FF6767' : '#C0C1C3');
            }
        });

        timeline.add(tweens1, tweens2, tweens3);

        el16.click(() => {
            timeline.replay();
        })


    </script>


    <div class="">
        <!-- 栏目导航 -->
        {% include 'article/navigator.html' %}

        <!-- 提示语 -->
        {% if tag %}
            <h5>
                <i class="fas fa-search"></i>
                标签 "<span style="color: red;">{{ tag }}</span>" 的相关文章如下：
            </h5>
        {% endif %}


        <!-- 列表循环 -->
        {% for article in articles %}
            <div class="card mb-2 hvr-glow" style="display: flex">
                <div class="row no-gutters align-items-center">
                    {% if article.avatar_thumbnail %}
                        <div class="col-4 d-none d-md-block"
                             style="overflow: hidden"
                        >
                            <a href="{{ article.get_absolute_url }}">
                                <img src="{{ article.avatar_thumbnail.url }}"
                                     class="card-img hvr-grow"
                                     style="transition-duration: 1s;"
                                     alt="缩略图"
                                >
                            </a>
                        </div>
                    {% endif %}
                    <div class="col">

                        <div class="card-body">
                            <!-- 标题 -->
                            <h4 class="mt-0">
                                <a href="{{ article.get_absolute_url }}"
                                   style="font-weight: bold; color: black;"
                                   class="hvr-forward no-underline"
                                >
                                    {{ article.title }}
                                </a>
                            </h4>

                            <!-- 文章标题的栏目 -->
                            <div class="mb-2 ">
                                {% if article.column.id %}
                                    <a href="?column_id={{ article.column.id }}"
                                       role="button"
                                       class="
                                    btn
                                    btn-sm
                                    hvr-pop
                                    {% if article.column.title == '编程' %}
                                    btn-outline-success
                                    {% elif article.column.title == '摄影' %}
                                    btn-outline-warning
                                    {% elif article.column.title == '光学' %}
                                    btn-outline-primary
                                    {% elif article.column.title == '闲聊' %}
                                    btn-outline-secondary
                                    {% endif %}
                                    "
                                    >
                                        {{ article.column }}
                                    </a>
                                {% endif %}

                                <!-- 标签 -->
                                {% for tag in article.tags.all %}
                                    <a class="badge badge-pill badge-light hvr-float-shadow"
                                       href="?tag={{ tag }}"
                                       style="color: grey;"
                                    >
                                        {{ tag }}</a>
                                {% endfor %}
                            </div>


                            <!-- 附加信息 -->
                            <p class="mb-0 text-monospace" style="color: grey;">
                                <i class="fas fa-eye" style="color: lightskyblue;"></i>
                                {{ article.total_views }}
                                <i class="fas fa-comments" style="color: yellowgreen;"></i>
                                {{ article.comments.count }}
                                <i class="fas fa-clock" style="color: pink;"></i>
                                {{ article.created|timesince_zh }}
                                <!-- 教程 -->
                                {% if article.course_id %}

                                    <a href="{% url 'course:course_articles_list' article.course_id %}"
                                       style="color: #8D8D8D;"
                                       class="no-underline hvr-forward"
                                    >
                                        <i class="fas fa-book" style="color: #f0c674;"></i>
                                        {{ article.course.title }}
                                    </a>
                                {% endif %}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}

        {% include 'utils/paginator.html' %}
    </div>
{% endblock %}